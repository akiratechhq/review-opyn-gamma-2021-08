{
    "client_name": "Opyn",
    "commit_hash": "67a2bff57ec49c4bb7c9c454c8ad945fd5bdcf51",
    "date": "August 2021",
    "date_interval": "August 16 to August 27, 2021",
    "issues": [
        {
            "active_lock_reason": null,
            "assignee": null,
            "assignees": [],
            "author_association": "CONTRIBUTOR",
            "body": "**Description**\r\n\r\nA user can call `Controller.sync()` to update their vault's latest timestamp.\r\n\r\nhttps://github.com/monoceros-alpha/review-opyn-gamma-2021-08/blob/ee386cf23a1b3992c46a8d5ec85fbc216e80dea8/code/contracts/core/Controller.sol#L439-L449\r\n\r\nThis timestamp is important when a vault is liquidated. The method `MarginCalculator.isLiquidatable` needs the vault's timestamp to be in the past as compared to the current timestamp.\r\n\r\nhttps://github.com/monoceros-alpha/review-opyn-gamma-2021-08/blob/ee386cf23a1b3992c46a8d5ec85fbc216e80dea8/code/contracts/core/MarginCalculator.sol#L445-L449\r\n\r\nIf the vault was at some point in the past liquidatable, but now it isn't anymore, it could be liquidated, unless the user (or a benefactor) updates the user's vault by calling `Controller.sync(address _owner, uint256 _vaultId)`.\r\n\r\nAlso, if anyone is watching the blockchain and they see a transaction in the mempool calling `Controller.sync()` they can assume (and verify) if that vault could be liquidated. They could front-run the `Controller.sync()` transaction and liquidate the vault before the timestamp is updated.\r\n\r\nThe method seems to be vulnerable to front-running attacks.\r\n\r\n**Recommendation**\r\n\r\n- Update timestamp before liquidating?\r\n\r\nTBD",
            "closed_at": null,
            "comments": 0,
            "comments_url": "https://api.github.com/repos/monoceros-alpha/review-opyn-gamma-2021-08/issues/1/comments",
            "created_at": "2021-08-17T13:07:15Z",
            "events_url": "https://api.github.com/repos/monoceros-alpha/review-opyn-gamma-2021-08/issues/1/events",
            "html_url": "https://github.com/monoceros-alpha/review-opyn-gamma-2021-08/issues/1",
            "id": 972670702,
            "labels": [
                {
                    "color": "667788",
                    "default": false,
                    "description": null,
                    "id": 3265630216,
                    "name": "Report",
                    "node_id": "MDU6TGFiZWwzMjY1NjMwMjE2",
                    "url": "https://api.github.com/repos/monoceros-alpha/review-opyn-gamma-2021-08/labels/Report"
                },
                {
                    "color": "FF9500",
                    "default": false,
                    "description": null,
                    "id": 3265630320,
                    "name": "Medium",
                    "node_id": "MDU6TGFiZWwzMjY1NjMwMzIw",
                    "url": "https://api.github.com/repos/monoceros-alpha/review-opyn-gamma-2021-08/labels/Medium"
                }
            ],
            "labels_url": "https://api.github.com/repos/monoceros-alpha/review-opyn-gamma-2021-08/issues/1/labels{/name}",
            "locked": false,
            "milestone": null,
            "node_id": "MDU6SXNzdWU5NzI2NzA3MDI=",
            "number": 1,
            "performed_via_github_app": null,
            "repository_url": "https://api.github.com/repos/monoceros-alpha/review-opyn-gamma-2021-08",
            "state": "open",
            "title": "A can be frontrun when they try to sync their vault",
            "updated_at": "2021-08-17T13:13:20Z",
            "url": "https://api.github.com/repos/monoceros-alpha/review-opyn-gamma-2021-08/issues/1",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/547012?v=4",
                "events_url": "https://api.github.com/users/cleanunicorn/events{/privacy}",
                "followers_url": "https://api.github.com/users/cleanunicorn/followers",
                "following_url": "https://api.github.com/users/cleanunicorn/following{/other_user}",
                "gists_url": "https://api.github.com/users/cleanunicorn/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/cleanunicorn",
                "id": 547012,
                "login": "cleanunicorn",
                "node_id": "MDQ6VXNlcjU0NzAxMg==",
                "organizations_url": "https://api.github.com/users/cleanunicorn/orgs",
                "received_events_url": "https://api.github.com/users/cleanunicorn/received_events",
                "repos_url": "https://api.github.com/users/cleanunicorn/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/cleanunicorn/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cleanunicorn/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/cleanunicorn"
            }
        }
    ],
    "person_days": "20",
    "project_name": "Gamma",
    "review_period": "2 weeks",
    "source_repository": "https://github.com/opynfinance/GammaProtocol.git",
    "template": "./Readme.md.mustache"
}